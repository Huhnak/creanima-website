// Перевод CSS в иерархический SCSS/SASS
* {
  box-sizing: border-box;
}
.element::-webkit-scrollbar {
  width: 0;
}

/*Убрать полосу прокрутки для всей страницы*/
::-webkit-scrollbar {
  width: 0;
}
// === Общие стили ===
body {
  margin: 0;
  color: #fedfa6;
  // background: rgb(45, 86, 131);

background: #2D5683;
background: linear-gradient(180deg, rgba(45, 86, 131, 1) 0%, rgba(34, 71, 107, 1) 56%, rgba(15, 35, 56, 1) 100%);

  min-height: 100%;
  font-family: "Noto Sans", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  font-variation-settings: "wdth" 100;
}
a {
  text-decoration: none;
  color: inherit;
}
/* Общий стиль для flex-row (используется в нескольких местах) */
.flex-row {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
.flex-col {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.container {
  align-items: center;
  display: flex;
  flex-direction: column;
  width: 100%;
}

/* === Звездное поле === */
#starfield-parallax {
  opacity: 0.2;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
}

/* Стили для каждого слоя */
.star-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* 1. Повторяем изображение, чтобы оно заполняло всю область */
  background-repeat: repeat;

  /* 2. Используем 'content-box' для background-origin, чтобы фон начинался от края */
  background-origin: content-box;

  /* 3. Устанавливаем плавность для background-position */
  // transition: background-position 5ms ease;
}

/* Назначение конкретных SVG-файлов и размеров */
#stars-far {
  background-image: url("../src/stars_small.svg");
  /* Определяем размер одного паттерна. Это помогает создать эффект глубины. */
  background-repeat: repeat;
  opacity: 0.7;
}

#stars-mid {
  background-image: url("../src/stars_medium.svg");
  opacity: 0.8;
}

#stars-close {
  background-image: url("../src/stars_large.svg");
  opacity: 1;
}

/* === Навигация === */
.nav-hidden-up {
  transform: translateY(-120%);
}
nav {
  transition: transform 0.3s ease-in-out;
  position: fixed;
  margin: 15px 50px;
  top: 0;
  margin-top: 10px;
  width: 90%;
  background: #224466c3;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 30px;
  padding: 15px;
  border-radius: 15px;
  z-index: 1000;

  a {
    color: #fedfa6;
    text-decoration: none;
    font-weight: bold;
    font-size: 1.3rem;
    padding: 5px 15px;
    margin: 0 25px;
    &:hover {
      color: #fcc661;
      background-color: #224466c3;
      border-radius: 8px;
      scale: 1.4;
      transition: color 0.2s, background-color 0.2s;
    }
  }

  .logo {
    width: 50px;
    height: 50px;
  }
}

/* === Секции === */
section {
  text-align: center;
  // min-height: 90vh;

  padding-top: 20px;
  padding-bottom: 60px;
  align-items: center;
  justify-content: center;

  .title-wrapper {
    display: flex;
    align-items: center;
    position: relative;
    margin-left: 75%;
    transform: translateX(-50%);
    h2 {
      font-size: 2.5rem;
      // color: #ffe599;
      color: #fedfa6;
      text-shadow: 0 0 3px #9b865e;
    }

    .star {
      width: 125px;
      color: #ffe599;
      transition: filter 1s ease;
    }
  }
  #star-1 {
    transition: filter 1s ease;
    filter: drop-shadow(0 0 5px #ffffff);
  }
  .glowing-star {
    filter: drop-shadow(0 0 5px #ffffff) drop-shadow(0 0 8px #e2bf7d) !important;
  }
  // Стили для конкретных секций (через вложенность по ID)
  &#hero {
    width: 100%;
    height: 100vh;
    // background: #477fba;
    // background: radial-gradient(
    //   circle,
    //   rgba(71, 127, 186, 1) 0%,
    //   rgba(35, 72, 112, 1) 100%
    // );
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-size: cover;

    h1 {
      font-size: 3rem;
      margin: 20px 0 10px;
      opacity: 0;
      transform: translateY(20px);
    }

    .hero-box {
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 25px;
      gap: 50px;
      width: 85%;
      height: 30vw;
      padding: 10px 30px;
      border-radius: 3vh;
      position: relative;

      &::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 30vw;
        background-image: url("../hero-bg.png");
        background-size: cover;
        background-position: 0 90%;
        opacity: 0.5;
        border-radius: 3vh;
        padding: 10px 30px;
        z-index: 1;
      }
    }

    .hero-text {
      width: 50%;
      height: 100%;
      display: flex;
      justify-content: flex-end;
      flex-direction: column;
      z-index: 3;
      p{
        margin: 0;
        font-size: 2.5vw;
        text-align: left;
        opacity: 0;
      transform: translateY(20px);
      }
      .secondary {
        margin-top: 5px;
        font-size: 1.8vw;
        font-style: italic;
      }
      margin-bottom: 25px;
    }

    .hero-logo {
      width: 50%;
      height: 100%;
      display: flex;
      align-items: center;
      z-index: 3;
      svg {
        max-width: 100%;
        max-height: 100%;
      }
    }
  }

  &#about {
    // background: #1f4977;
    // background: linear-gradient(
    //   310deg,
    //   rgba(31, 73, 119, 1) 0%,
    //   rgba(39, 83, 130, 1) 50%,
    //   rgba(58, 107, 158, 1) 100%
    // );
    width: 100%;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;

    .title-wrapper {
      margin-left: 75%;
      transform: translateX(-50%);
      text-align: right;
    }
    .narrator-wrapper {
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      flex-direction: row;

      #dialog-cloud {
        background-image: url("../dialogue.svg");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;

        aspect-ratio: 394/248;
        padding: 5% 10% 5% 8%;
        width: 60vw;
        box-sizing: border-box;
        display: flex;
        align-items: center;
        justify-content: center;
        div {
          width: 100%;
          height: 100%;
          p {
            line-height: 1.2;
            overflow: hidden;
            width: 100%;
            text-align: left;
            font-size: clamp(14px, 2.3vw, 72px);

            opacity: 0;
            transform: translateY(20px);
          }
        }
      }
      #dialog-narrator {
        z-index: 0;
        user-select: none;
        -webkit-user-drag: none;
        img {
          height: 40vw;
        }
        // transform: translate(30%, 0%) rotate(-20deg);
        // aspect-ratio: 221 / 599;
      }
    }
  }

  &#ar {
    display: flex;
    // background: #225081;
    // background: linear-gradient(
    //   223deg,
    //   rgba(34, 80, 129, 1) 0%,
    //   rgba(46, 102, 163, 1) 50%,
    //   rgba(63, 118, 176, 1) 100%
    // );

    gap: 20px;
    flex-direction: column;
    gap: 20px;

    .flex-row {
      z-index: 2;
      gap: 40px;
      margin: auto;
      margin-top: 15px;
      padding: 0 5%;
      max-height: 70%;
    }
    .title-wrapper {
      margin-left: 50%;
      transform: translateX(-50%);
      text-align: left;
    }
    .ar {
      flex: 1;
      img {
        width: 100%;
      }
      p {
        font-style: italic;
        opacity: 0.8;
        margin: 0;

        opacity: 0;
            transform: translateY(20px);
      }
    }
    .qr {
      display: flex;
      flex-direction: column;
      flex: 1;
      flex-wrap: wrap;
          align-items: center;
      img {
        max-width: 70%;
      }
      a {
        font-size: 3rem;
        transition: color 0.2s, scale 0.2s; // Добавлена плавность
        color: #fedfa6;
        opacity: 0;
            transform: translateY(20px);
        &:hover {
          color: #f4c978;
          scale: 110%;
        }
      }
    }
  }

  &#works {
    // background: #234870;
    // background: linear-gradient(
    //   91deg,
    //   rgba(35, 72, 112, 1) 0%,
    //   rgba(44, 83, 125, 1) 50%,
    //   rgba(53, 93, 135, 1) 100%
    // );
    width: 100%;

    .title-wrapper {
      margin-left: 35%;
      transform: translateX(-50%);
      text-align: left;
    }
    .gallery {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 30px;

      img {
        width: 250px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      }
    }
  }

  &#team {
    // background: #1f4977;
    // background: linear-gradient(
    //   310deg,
    //   rgba(31, 73, 119, 1) 0%,
    //   rgba(39, 83, 130, 1) 50%,
    //   rgba(58, 107, 158, 1) 100%
    // );
    width: 100%;
    .title-wrapper {
      margin-left: 50%;
      transform: translateX(-50%);
      text-align: left;
    }
    .members {
      position: relative;
      z-index: 2;
      margin: 50px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      svg {
        overflow: visible;
        width: 50%;
        > g {
          transition: filter 0.1s ease;
        }
        .selected {
          filter: drop-shadow(0 0 5px #ffffff);
        }
      }
    }
    .descriptions {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 200px;
      .description-item {
        opacity: 0;
        position: absolute;
        width: 50%;
        height: 200px;
        background: #224466c3;
        padding: 20px;
        border-radius: 15px;
        transition: opacity 0.5s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        h3 {
          margin-top: 0;
          margin-bottom: 10px;
        }
        p {
          margin: 0;
          text-align: left;
          line-height: 1.4;
        }
      }
      .description-item-active {
        opacity: 1 !important;
      }
    }
  }
}

/* === Команда: стили для .member и .stickman === */

/* === Подвал === */
footer {
  background: #0a1f33;
  text-align: center;
  padding: 30px 20px;
  width: 100%;
  box-sizing: border-box;
  p {
    margin: 0;
    font-size: 0.9rem;
    color: #ccc;
  }
}

/* === Констелляция === */
#constellation {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  pointer-events: none;
  height: auto;
  z-index: 1000;
}

.carousel-cell {
  width: 80%;
  height: 700px;
  /* flex-box, center image in cell */
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  align-items: center;
}
.carousel-cell img {
  border-radius: 15px;
  border: 5px solid #162533;
  display: block;
  max-width: 100%;
  max-height: 100%;
  /* dim unselected */
  opacity: 0.7;
  -webkit-transform: scale(0.85);
  transform: scale(0.85);
  -webkit-filter: blur(5px);
  filter: blur(5px);
  -webkit-transition: opacity 0.3s, -webkit-transform 0.3s, transform 0.3s,
    -webkit-filter 0.3s, filter 0.3s;
  transition: opacity 0.3s, transform 0.3s, filter 0.3s;
}
.carousel-cell.is-selected img {
  opacity: 1;
  -webkit-transform: scale(1);
  transform: scale(1);
  -webkit-filter: none;
  filter: none;
}

@media screen and (min-width: 768px) {
  .carousel-cell {
    height: 500px;
  }
}

@media screen and (min-width: 960px) {
  .carousel-cell {
    width: 80%;
  }
}
.flickity-prev-next-button {
  width: 60px;
  height: 60px;
  background: transparent;
  opacity: 0.6;
}
.flickity-prev-next-button:hover {
  background: transparent;
  opacity: 1;
}
/* arrow color */
.flickity-prev-next-button .arrow {
  fill: white;
}
.flickity-prev-next-button.no-svg {
  color: white;
}
/* closer to edge */
.flickity-prev-next-button.previous {
  left: 0;
}
.flickity-prev-next-button.next {
  right: 0;
}
/* hide disabled button */
.flickity-prev-next-button:disabled {
  display: none;
}
